<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="description" content="" />
	<title>#{imagesView.nombre}</title>
	<meta name="keywords" content="" />
	<script src="js/jquery.dropotron.min.js"></script>
	<script src="js/jquery.scrolly.min.js"></script>
	<script src="js/jquery.onvisible.min.js"></script>
	<script src="js/skel.min.js"></script>
	<script src="js/skel-layers.min.js"></script>
	<script src="js/init.js"></script>
	<link rel="stylesheet" href="css/styles.css" />
	<link rel="stylesheet" href="css/style-desktop.css" />
	<link rel="stylesheet" href="css/style-noscript.css" />
	<link rel="stylesheet" href="css/skel.css" />
	<link rel="stylesheet" href="css/style.css" />
	<link rel="stylesheet" href="css/styles.css" media="screen"
		type="text/css" />
	<link rel="stylesheet"
		href="http://fonts.googleapis.com/css?family=Open+Sans:400,700" />
	<script>
		  //alert(window.localStorage.getItem("IdCatastrofe"));
		  var css = window.localStorage.getItem("urlCSS");
		  var cssFinal = "css/"+ css; 
		  //alert("Css final: "+cssFinal);
		  //alert(window.localStorage.getItem("urlCSS"));
		  //document.getElementById("j_idt5:catastrofeId").value = id;
		  
		  var login= #{loginBean.logeado};
		  function mostrarMenuLogueo(){
			if !login{

				
			}
			  
		  }
		  
		  
		  function cambiarCSS() { 
				$("#cssPrincipal").attr("href",cssFinal);
				//alert("cambie el css");
				return false;
		  }
		  cambiarCSS();
			function obtenerNombre(){
				HttpServletRequest req = (HttpServletRequest) request;
				String urlStr = req.getRequestURL().toString().toLowerCase();
				
				alert(urlStr);
				}
	</script>
	<script type="text/javascript" language="javascript">
			function show(id) {
				var oc = document.getElementById(id).style;
		
				var login =  #{loginBean.logeado} ;
				  
				 				
				hide();
				oc.display = "block";
				if (!login) {
					//desaparecidos
					
					document.getElementById('personasdesap').style.visibility = "hidden";
					document.getElementById('desaparecidos').style.visibility = "hidden";
					document.getElementById('busperdesap').style.visibility = "hidden";
					//document.getElementById('desaparecidosocultar').style.visibility = "hidden";
					registroBean.setMensaje("Estimado Usuario debe estar logueado en el sistema para poder reportar personas desaparecidas.")
					loginBean.setNick1("");
					document.getElementById('logoutusuario').style.visibility = "hidden";
					
				}else {
					document.getElementById('loginusuario').style.visibility = "hidden";
					
					

					}
			}
			function hide() {
				document.getElementById('banner').style.display = "none";
				document.getElementById('donacion').style.display = "none";
				document.getElementById('busperdesap').style.display = "none";
				document.getElementById('personasdesap').style.display = "none";
				document.getElementById('desaparecidos').style.display = "none";
				document.getElementById('registrousuario').style.display = "none";
				
				
				document.getElementById('loginusuario').style.display = "none";
				document.getElementById('logoutusuario').style.display = "none";
							}
</script>
	<style type="text/css">
.oculto {
	display: none;
}

span {
	font-size: 20px;
}

div {
	font-size: 20px;
}
</style>




	<script type="text/javascript"
		src="http://maps.google.com/maps/api/js?sensor=false&amp;language=es"></script>
	<style>
#map-canvas {
	display: block;
	width: 100%;
	height: 900px;
}

#map-canvas {
	height: 500px;
	width: 100%;
	margin: 0px;
	padding: 0px
}
</style>
	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>

	<!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
</h:head>
<body class="homepage">
	<!-- Header -->
	<div id="header">
		<!-- Inner -->
		<div class="inner">
			<div id="header">

			<!-- 	<p:graphicImage value="imagen/#{imagesView.logo}" width="100"
					height="100" />
				<h:outputText value="" style="border: transparent;" />
 -->
				<h1>
					<a href="Index.xhtml" id="logo">#{imagesView.nombre}</a>
				</h1>

				<div class="ui-grid ui-grid-responsive">

					<div class="ui-grid-row">
						<div class="ui-grid-col-4"></div>
						<div class="ui-grid-col-4">
							<p>#{imagesView.descripcion}</p>
							
						</div>

						<div class="ui-grid-col-4"></div>
					</div>
				</div>
				<br /> <a href="#banner" class="button circled scrolly"
					style="cursor: hand; text-decoration: none"
					onclick="show('banner');"> ¡AYUDA!</a> <br /> <br /> <br />
				<p>
				
				<!-- comentada esto mueve las imagenes pero no es active responsive
				
				<p:imageSwitch effect="shuffle">
				    <ui:repeat value="#{imagesView.imagesMostrar}" var="image">
				        <p:graphicImage value="imagen/#{image}" styleClass="content" />
				        
						<div class="caption"></div>
				    </ui:repeat>
				</p:imageSwitch>
				-->
					<p:contentFlow value="#{imagesView.imagesMostrar}" var="image" effect="fade">
						<p:graphicImage value="imagen/#{image}" styleClass="content" />

						<div class="caption"></div>
					</p:contentFlow>
					
				</p>
				<br />

				<!-- VIDEOS YOUTUBE -->

				<div class="ui-grid ui-grid-responsive">
				<div class="ui-grid-row">
				<div class="ui-grid-col-3"></div>
				<div class="ui-grid-col-1"></div>
				<div class="ui-grid-col-7"> <h1>Zona:</h1></div>
				<div class="ui-grid-col-1"></div>
				</div>
				
				
					<div class="ui-grid-row">
						<div class="ui-grid-col-3">

							<h:dataTable rows="0" border="1" id="buscados"
								value="#{busquedaYoutube.buscarResultadoList}" var="item"
								style="float: left;">

								<h:column>
									<h:outputText id="videoUrl" escape="false"
										value="#{item.thumbnailVideo}">
									</h:outputText>
								</h:column>

							</h:dataTable>
						</div>
						
						<div class="ui-grid-col-9">
						<!-- MAPA DE ZONAS AFECTADAS -->
						<p:gmap id="map"
					center="#{imagesView.latitud}, #{imagesView.longitud}" zoom="10"
					type="HYBRID" style="width:100%;height:580px"
					model="#{imagesView.polygonModel}" widgetVar="map">
					<p:ajax event="overlaySelect" oncomplete="PF('dlg').show();"
						 />
				</p:gmap>
						</div>
					</div>
				</div>

				<u> ONGS: </u> <br />

				<p:accordionPanel value="#{listarOngUsuarioBean.listaOngBean}"
					var="ongUsuario">
					<p:tab title="#{ongUsuario.nombre}">
						<p:graphicImage value="imagen/#{ongUsuario.imagen}" width="100"
							height="100" />
						<h:panelGrid columns="2" cellpadding="10">


							<p>
								<h:outputText value="Descripción:#{ongUsuario.descripcion}" />
							</p>
							<p>
								<h:outputText value="Dirección:#{ongUsuario.direccion}" />
							</p>
							<p>
								<h:outputText value="Teléfono:#{ongUsuario.telefono}" />
							</p>

						</h:panelGrid>

						<a href="#{ongUsuario.citioWeb}"> #{ongUsuario.citioWeb} </a>
					</p:tab>

				</p:accordionPanel>

				<br />
			</div>
		</div>
	</div>



	<div class="ui-grid ui-grid-responsive">
		<div class="ui-grid-row">




			<div class="ui-grid-col-1"></div>
			<div class="ui-grid-col-10">

<!--
				<p:gmap id="map"
					center="#{imagesView.latitud}, #{imagesView.longitud}" zoom="10"
					type="HYBRID" style="width:100%;height:500px"
					model="#{imagesView.polygonModel}" widgetVar="map">
					<p:ajax event="overlaySelect" oncomplete="PF('dlg').show();"
						update="growl" />
				</p:gmap>
-->
			</div>
			<div class="ui-grid-col-1"></div>
		</div>

	</div>



	<!-- Nav -->
	<div id="nav">
		<ul>
			<!--  <li><a href="Index.xhtml">Inicio</a></li>
				<a id="displayText"  href="#banner" onclick="toggle();">SOLICITAR AYUDA</a></li>-->

			<li><a href="Home.xhtml" > Inicio</a></li>
			<li><a href="#donacion"
				style="cursor: hand; text-decoration: none"
				onclick="show('donacion');">Donaciones</a></li>
			<li><a href="#desaparecidos"
				style="cursor: hand; text-decoration: none"
				onclick="show('desaparecidos');">Personas Desaparecidas</a></li>
			<li><a href="#registrousuario"
				style="cursor: hand; text-decoration: none"
				onclick="show('registrousuario');">Registro usuario</a></li>
			<li><a href="#loginusuario"
				style="cursor: hand; text-decoration: none"
				onclick="show('loginusuario');">#{loginBean.menu}</a></li>
			<li><a href=""
				style="cursor: hand; text-decoration: none"
			>#{loginBean.nick1}</a></li>
			<li ><a href="#logoutusuario"
				style="cursor: hand; text-decoration: none"
				onclick="show('logoutusuario');">Cerrar Sesión</a></li>
			
			
			
			
			

		</ul>
	</div>


	<!-- Banner -->


	<div id="banner">
		<div class="section">

			<h2>
				<strong>¡SOLICITE AYUDA!</strong>
			</h2>

			<strong> ¿Se encuentra en situación de peligro? ¿Necesita
				ayuda? En SSAC brindamos </strong> <strong> servicios de auxilio.</strong> <strong>
				Ingrese sus datos en el siguiente formulario y le derivaremos a un
				rescatista </strong> <strong> lo antes posible.</strong>

			<div class="ui-grid ui-grid-responsive">

				<div class="ui-grid-row">

					<div class="ui-grid-col-1"></div>

					<div class="ui-grid-col-5">
						<f:view>
							<h:form id="pedidoAyudaBean">

								<p:growl id="growl" life="2000" />

								<h:panelGrid>

									<label for="descripcion">Descripcion :</label>
									<p:inputTextarea rows="3" cols="10" id="descripcion"
										label="descripcion" value="#{mapaPedidoAyuda.descripcion}"
										>
									</p:inputTextarea>

									<p:inputText id="coordenadasX" label="coordenadasX"
										value="#{pedidoAyudaBean.coordenadasX}" type="hidden"
										required="true" requiredMessage="La latitud es requerido">
									</p:inputText>

									<p:inputText id="coordenadasY" label="coordenadasY"
										value="#{pedidoAyudaBean.coordenadasY}" type="hidden"
										required="true" requiredMessage="La longitud es requerido">
									</p:inputText>
								</h:panelGrid>
								<ul class="actions align-center">
									<p:commandButton id="registrarpedido" update="growl"
										type="submit" style="margin-left: 150px;" Class="button"
										value="Ayuda"
										action="#{mapaPedidoAyuda.registrarPedidoAyuda()}">
									</p:commandButton>
								</ul>
							</h:form>

						</f:view>

						<p>
							
						</p>
					</div>
					<div class="ui-grid-col-1"></div>
					<div class="ui-grid-col-5">
						<br />
						<div id="mapa2" style="width:42%; float:right;margin-right: 300px;padding:0px 74px 0px 0px;">  
							<p:growl id="growl2" life="3000" showDetail="true" />
							<p:gmap id="map2" center="#{mapaPedidoAyuda.latitud}, #{mapaPedidoAyuda.longitud}" zoom="8" type="HYBRID"  style="width:500px;height:580px"
						    		 model="#{mapaPedidoAyuda.polygonModel}" widgetVar="map" >    
						    	 <p:ajax event="markerDrag" listener="#{mapaPedidoAyuda.onMarkerDrag}" update="growl2" />	
						    </p:gmap>	
						</div>
					</div>

					<div class="ui-grid-col-1"></div>

				</div>
			</div>
		</div>
	</div>

	<div class="ui-grid">
		<div class="ui-grid-row">
			<div class="ui-grid-col-2"></div>
			<div class="ui-grid-col-10">
				<p>
					<a href="#header"><input type="submit" value="Volver" /></a>
				</p>

			</div>
		</div>
	</div>



	<!-- DONACIONES -->

	<div class="oculto" id="donacion">
		<div class="ui-grid ui-grid-responsive">
			<div class="ui-grid-row">
				<div class="ui-grid-col-1"></div>
				<div class="ui-grid-col-10">
					<h2>
						<strong><a href="#donacion">
								¡Realice donaciones!</a></strong>
					</h2>
				</div>
				<br /> <br />
				<div class="ui-grid-col-1"></div>
			</div>

			<div class="ui-grid-row">
				<br />
				<div class="ui-grid-col-1"></div>
				<div class="ui-grid-col-3">

					<img src="images/servicio.jpg" alt="" onclick="PF('dlg1').show();" />
					<header>
					<h3>
						<a href="#">DONACION DE SERIVCIOS</a>
					</h3>
					</header>
					<p>Donacion de servicios, voluntarios, médicos, ingenieros,
						enfermeros, etc.</p>


					<p:dialog header="DONACIÓN DE SERVICIOS" widgetVar="dlg1"
						showEffect="explode" hideEffect="explode" height="500" width="430">
						<f:view>
											
							
							<h:form id="deServicioBean">
								<p:growl id="growl"  life="1000" />

								<h:panelGrid>

									
									<h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
									
							        <p:selectOneMenu id="ongs" value="#{deServicioBean.ong}" style="width:400px"  >
							            <f:selectItem itemLabel="Seleccione Ong a donar :" itemValue=""  />
							            <f:selectItems value="#{deServicioBean.listaongs}" />
							        </p:selectOneMenu>
									
									</h:panelGrid>
									
									
									<label for="usuario">Ingrese su nombre si lo desea :</label>
									<p:inputText id="usuario" label="usuario"
										value="#{deServicioBean.usuario}" required="false"
										>
									</p:inputText>

									
									<label for="areaConocimient">Area de conocimiento :</label>
									<p:inputText id="areaConocimient" label="areaConocimient"
										value="#{deServicioBean.areaConocimient}" required="true"
										requiredMessage="El area es requerido">
									</p:inputText>

									<label for="cantidadHoras">Cantidad de horas :</label>
									<p:inputText id="cantidadHoras" label="cantidadHoras"
										value="#{deServicioBean.cantidadHoras}" required="true"
										requiredMessage="Cantidad de horas es requerido"
										>

										
										
									</p:inputText>
									<br/>
									<p:commandButton id="registro" update="growl" type="submit"
										Class="button" value="DONAR"
										action="#{deServicioBean.registrarDonacionDeServicio()}" >
									</p:commandButton>
								</h:panelGrid>
							</h:form>
							</f:view>
					</p:dialog>

				</div>
				<div class="ui-grid-col-1"></div>
				<!-- ECONOMICA -->
				<div class="ui-grid-col-3">

					<img src="images/visa.jpg" alt="" onclick="PF('dlg2').show();" />
					<header>
					<h3>
						<a href="#">DONACION ECONOMICA</a>
					</h3>
					</header>
					<p>Done un monto mediante paypal a la ONG deseada.</p>

					<p:dialog header="DONACIÓN ECONOMICA" widgetVar="dlg2" showEffect="explode"
						hideEffect="explode" height="400" width="430">
						<f:view>
							<h:form id="economicaBean">
								<p:growl id="growl"  life="1000" />
								<h:panelGrid>
									<h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
									
							        <p:selectOneMenu id="ongs" value="#{economicaBean.ong}"  style="width:400px" >
							            <f:selectItem itemLabel="Seleccione Ong a donar :" itemValue=""  />
							            <f:selectItems value="#{economicaBean.listaongs}" />
							        </p:selectOneMenu>
									
									</h:panelGrid>
									

									<label for="usuario">Ingrese su nombre si lo desea :</label>
									<p:inputText id="usuario" label="usuario"
										value="#{economicaBean.usuario}" required="false"
										>
									</p:inputText>

									<br/>

									<p:commandButton id="registrarDonacion" update="growl"
										type="submit" Class="button" value="Confirmar datos"
										action="#{economicaBean.registrarDonacionEconomica()}">
									</p:commandButton>
								</h:panelGrid>
							</h:form>
						</f:view>

						<form action="https://www.paypal.com/cgi-bin/webscr" method="post"
							target="_top">
							<input type="hidden" name="cmd" value="_donations"></input> <input
								type="hidden" name="business" value="ongDonacion@gmail.com"></input>
							<input type="hidden" name="lc" value="AL"></input> <input
								type="hidden" name="item_name" value="ONG"></input> <input
								type="hidden" name="no_note" value="0"></input> <input
								type="hidden" name="currency_code" value="USD"></input> <input
								type="hidden" name="bn"
								value="PP-DonationsBF:btn_donateCC_LG.gif:NonHostedGuest"></input>
							<input type="image"
								src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif"
								border="0" name="submit"
								alt="PayPal - The safer, easier way to pay online!"></input> <img
								alt="" border="0"
								src="https://www.paypalobjects.com/es_XC/i/scr/pixel.gif"
								width="1" height="1"></img>
						</form>
					</p:dialog>

				</div>
				<div class="ui-grid-col-1"></div>
				<!-- DE BIENES -->
				<div class="ui-grid-col-3">

					<img src="images/fru1.jpg" alt="" onclick="PF('dlg3').show();" />
					<header>
					<h3>
						<a href="#">DONACION DE BIENES</a>
					</h3>
					</header>
					<p>Donar alimentos o bienes como maquinaria específica .</p>
					<p:dialog header="DONACIÓN DE BIENES" widgetVar="dlg3" showEffect="explode"
						hideEffect="explode" height="500" width="430">

						<f:view>
							<h:form id="deBienesBean">
								<p:growl id="growl" life="1000" />

								<h:panelGrid>

									<h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
									
							        <p:selectOneMenu id="ongs" value="#{deBienesBean.ong}"  style="width:400px" >
							            <f:selectItem itemLabel="Seleccione Ong a donar :" itemValue=""  />
							            <f:selectItems value="#{deBienesBean.listaongs}" />
							        </p:selectOneMenu>
									
									</h:panelGrid>
									

									<label for="usuario">Ingrese su nombre si lo desea :</label>
									<p:inputText id="usuario" label="usuario"
										value="#{deBienesBean.usuario}" 
									>
									</p:inputText>

									

									<label for="nombreItem">Elemento a donar :</label>
									<p:inputText id="nombreItem" label="nombreItem"
										value="#{deBienesBean.nombreItem}" required="true"
										requiredMessage="El nombre del elemento requerido">
									</p:inputText>

									<label for="cantidad">Cantidad :</label>
									<p:inputText id="cantidad" label="cantidad"
										value="#{deBienesBean.cantidad}" required="true"
										requiredMessage="La cantidad es requerida"
										>

										
									</p:inputText>
									<br/>
									<p:commandButton id="registro" update="growl" type="submit"
										Class="button" value="DONAR"
										action="#{deBienesBean.registrarDonacionDeBienes()}">
									</p:commandButton>
								</h:panelGrid>
							</h:form>
						</f:view>
					</p:dialog>


				</div>
				<div class="ui-grid-col-1"></div>
			</div>

		</div>
		<br /> <br /> <br /> <br />
	</div>
	
	


	<!-- REGISTRO DE USUARIO -->
	
	<div class="oculto" id="registrousuario">
	<div class="ui-grid ui-grid-responsive">
	
	<h2><a href="#"> REGISTRO DE USUARIO</a></h2>
					<p>Por favor, ingrese los campos para registrarse a la
						catastrofe</p>
					<f:view>
						
						<h:form>
	
		<p:growl id="msgRegistro" life="2000" />
    <div class="ui-grid-row">
        <div class="ui-grid-col-2"></div>
        <div class="ui-grid-col-4">
        <label for="nick"> Nick:</label>
							<p:inputText id="nick" label="nick" value="#{registroBean.nick}"
								required="true" requiredMessage="El nick es requerido">
							</p:inputText>
        </div>
        
        <div class="ui-grid-col-4">
        
        					<label for="nombre">Nombre :</label>
							<p:inputText id="nombre" label="nombre"
								value="#{registroBean.nombre}" required="true"
								requiredMessage="El nombre es requerido">
							</p:inputText>
        </div>
        <div class="ui-grid-col-2"></div>
    </div>
    
    <div class="ui-grid-row">
        <div class="ui-grid-col-2"></div>
        <div class="ui-grid-col-4">
       						 <p:outputLabel for="fechNac" value="Fecha de Nacimiento" />
							<p:calendar id="fechNac" label="Fecha de Nacimiento"
								value="#{registroBean.fechaNacimiento}" pattern="dd-MM-yyyy"
								mask="true" />
        </div>
        <div class="ui-grid-col-4">
       							 <label for="email">Correo :</label>
								<p:inputText id="email" label="email" value="#{registroBean.email}"
								validatorMessage="Formato de correo invalido. Debe ingresar ej: admin@dominio.com">
								<f:validateRegex
								pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
							</p:inputText>
        
        </div>
        <div class="ui-grid-col-2"></div>
    </div>
    
    
    
    <div class="ui-grid-row">
         <div class="ui-grid-col-2"></div>
        <div class="ui-grid-col-4">
      						  <label for="nombre"> Clave:</label>
							<p:password value="#{registroBean.clave}" id="password"
								required="true" label="password"
								validatorMessage="La contraseña debe contener : minimo 8 caracteres máximo 20.Al menos un digito, una letra mayúscula y un	carácter $#-@ ej: Re-casd8">
								<f:validateRegex
									pattern="((?=.*\d)(?=.*[A-Z])(?=.*[@#$-]).{8,9})" />
							</p:password>
        
        </div>
        <div class="ui-grid-col-1"></div>
         <div class="ui-grid-col-3">
        <br/>
        <br/>
       <p:commandButton id="registrarButton" value="Registrar"
								actionListener="#{registroBean.registro}"  update="msgRegistro" ajax="false"
								 />
        
        
        </div>
         <div class="ui-grid-col-2"></div>
    </div>
    
    
    	</h:form>
					</f:view>
</div>
</div>
	
	
	
	
	
	

<!-- LOGOUT -->

<div class="oculto" id="logoutusuario">

		<div class="ui-grid">
			<div class="ui-grid-row">
				<div class="ui-grid-col-2"></div>
				<div class="ui-grid-col-8">

					
					<h:form id="formulariologout">
					<p:growl id="mens"  life="2000" />
						<h2>
							 Gracias por visitar nuestro Sitio. </h2>
							 <h1>
							 <br/>
							 Si esta seguro que desea cerrar sesión dar clic a "Confirmar"
							 </h1>
						
						<br/>
						<br/>


						<p:commandButton id="loginButton" value="Confirmar"
							actionListener="#{loginBean.logout}" update="formulariologout:mens"
						oncomplete="logout(xhr, status, args)">
							<span class="fontawesome-lock"></span>
						</p:commandButton>
					</h:form>


				</div>
				<div class="ui-grid-col-2"></div>
			</div>
		</div>
	</div>

	


	<!-- LOGIN -->
	<div class="oculto" id="loginusuario">

		<div class="ui-grid">
			<div class="ui-grid-row">
				<div class="ui-grid-col-2"></div>
				<div class="ui-grid-col-8">

					<p:growl id="mensajes"  life="2000" />
					<h:form id="formularioIngreso1">
						<h2>
							<a href="#">Ingreso</a>
						</h2>

						

						<label for="nick1"> Nick:</label>
						<p:inputText id="nick1" label="nick1" value="#{loginBean.nick1}" height="30" width="50"
							required="true" requiredMessage="El nick es requerido">
						</p:inputText>

						<label for="nombre"> Clave:</label>
						<p:password value="#{loginBean.clave1}" id="password"
							required="true" label="password1" />
							
						<p:commandButton id="loginButton" value="Ingresar"
							actionListener="#{loginBean.login}" update=":mensajes"
							oncomplete="manejarLogin(xhr, status, args)">
							<span class="fontawesome-lock"></span>
						</p:commandButton>
					</h:form>
					<div class="section">
						<p>
							<div class="fb-login-button" data-max-rows="1" data-size="xlarge"
								data-show-faces="false" data-auto-logout-link="false"></div>
							
						</p>

					</div>
	

				</div>
				<div class="ui-grid-col-2"></div>
			</div>
		</div>
	</div>

	
	
	<!-- MENU DE PERSONAS DESAPARECIDAS -->
	
	<div class="oculto" id="desaparecidos">
		<h2>#{registroBean.mensaje}</h2>
	
	
		<div class="ui-grid ui-grid-responsive">
			<div class="ui-grid-row">
				<div class="ui-grid-col-1"></div>
				<div class="ui-grid-col-10">
					<h2>
					<strong><a href="#desaparecidos"> Personas
								Desaparecidas</a></strong>
					</h2>
				</div>
				<br /> <br /> <br />
				<div class="ui-grid-col-1"></div>
			</div>

			<div class="ui-grid-row">
				<div class="ui-grid-col-1"></div>
				<div class="ui-grid-col-3">
					<a href="#busperdesap"><img src="images/lupa.jpg"
						onclick="show('busperdesap');" /></a>
					<header>
					<h3>
						<a>BUSCAR</a>
					</h3>
					</header>
					<p>Búsqueda con información completa de la persona, incluyendo
						el estado de la misma.</p>
				</div>

				<div class="ui-grid-col-1"></div>
				<div class="ui-grid-col-3">
					<a href="#personasdesap"><img src="images/ingreso.jpg"
						onclick="show('personasdesap');" /></a>
					<header>
					<h3>
						<a>REPORTAR</a>
					</h3>
					</header>
					<p>Ingreso en el sistema, para que nuestro equipo de trabajo
						comience su búsqueda.</p>
					<br /> <br /> <br />
				</div>
				<div class="ui-grid-col-1"></div>
				<div class="ui-grid-col-3">
					<header>
					<h3>
						<a>¿CONOCES A ESTAS PERSONAS?</a>
					</h3>
					</header>
					<p>Nuestro equipo proporciona un servicio de 24hs, con personal
						altamente capacitado dispuesto a comenzar la búsqueda con la
						información detallada que tu nos brindas.</p>
					<br /> <br /> <br />


				</div>
				<div class="ui-grid-col-1"></div>
			</div>
		</div>
	</div>








	<!-- ALTA DE PERSONAS DESAPARECIDAS -->
	<div class="oculto" id="personasdesap">
	<div class="ui-grid ui-grid-responsive">
	
	<f:view>
						<h:form id="personasdesaparecidasBean">
							<p:growl id="growl"  life="2000" />
							
    <div class="ui-grid-row">
        <div class="ui-grid-col-2"></div>
        <div class="ui-grid-col-4">
        
        <label for="nombre"> Nombre:</label>
								<p:inputText id="nombre" label="nombre"
								value="#{personasdesaparecidasBean.nombre}" required="true"
								requiredMessage="El nombre es requerido">
								</p:inputText>
        </div>
        <div class="ui-grid-col-4">
        
        <label for="usuario">Apellido :</label>
								<p:inputText id="apellido" label="apellido"
								value="#{personasdesaparecidasBean.apellido}" required="true"
								requiredMessage="El apellido es requerido">
								</p:inputText>
        </div>
         <div class="ui-grid-col-2"></div>
    </div>
    
    
    <div class="ui-grid-row">
        <div class="ui-grid-col-2"></div>
        <div class="ui-grid-col-4">
        
        <label for="cedula">Cedula/Pasaporte- País :</label>
								<p:inputText id="cedula" label="cedula"
									value="#{personasdesaparecidasBean.cedula}" required="false">
									
        							</p:inputText>
        </div>
        <div class="ui-grid-col-4">
        
        <label for="numeroContacto">Contacto :</label>
								<p:inputText id="numeroContacto" label="numeroContacto"
									value="#{personasdesaparecidasBean.numeroContacto}"
									required="true" 
									validatorMessage="Formato de Telefono invalido, debe contener números 0..9">
									<f:validateRegex pattern="[0-9]*" />
								</p:inputText>
        </div>
          <div class="ui-grid-col-2"></div>
    </div>
    
    <div class="ui-grid-row">
        <div class="ui-grid-col-2"></div>
        <div class="ui-grid-col-8">
        <label for="descripcion">Descripción :</label>
								<p:inputText id="descripcion" label="descripcion"
									value="#{personasdesaparecidasBean.descripcion}"
									required="false" >
								</p:inputText>
        </div>
       
        <div class="ui-grid-col-2"></div>
    </div>
    <div class="ui-grid-row">
        <div class="ui-grid-col-2"></div>
        <div class="ui-grid-col-3"></div>
          <div class="ui-grid-col-5">
          <br/>
          <p:commandButton id="registro" update="growl" type="submit"
									Class="button" value="Registrar"
									action="#{personasdesaparecidasBean.registrarPersonasDesaparecidas()}">
								</p:commandButton>
          </div>
        <div class="ui-grid-col-2"></div>
    </div>
    
    
    </h:form>
    </f:view>
</div>    
</div>
	
	<!-- BUSCAR PERSONAS DESAPARECIDAS -->
	<div class="oculto" id="busperdesap">
		<div class="ui-grid">
			<div class="ui-grid-row">
				<div class="ui-grid-col-1"></div>
				<div class="ui-grid-col-11">
					<h:form id="formPersona">

						<p:growl id="msgs" showDetail="true" />
						<h2>
							<a href="#">BUSCAR PERSONA DESAPARECIDA</a>
						</h2>
						<br />
						<p:dataTable id="perDT" var="personaBean" widgetVar="personaTable"
							value="#{listapersonaBean.personasBean}"
							emptyMessage="No se han encontrado personas con ese criterio"
							filteredValue="#{listapersonaBean.filtroPersonafeBean}"
							paginator="true" rows="5" paginatorPosition="top"
							paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} "
							selectionMode="single"
							selection="#{listapersonaBean.selectedPersona}"
							rowKey="{personaBean.id}" dblClickSelect="true">

							<f:facet name="header">
								<p:outputPanel style="text-align: right">

									<p:inputText id="globalFilter"
										onkeyup="PF('personaTable').filter()" style="width:300px"
										placeholder="Ingrese el nombre" />
								</p:outputPanel>
							</f:facet>
							<p:ajax event="rowSelect"
								listener="#{listapersonaBean.onRowSelect}"
								update=":formPersona:msgs" />
							<p:ajax event="rowUnselect"
								listener="#{listapersonaBean.onRowUnselect}"
								update=":formPersona:msgs" />



							<p:column headerText="Nombre" filterBy="#{personaBean.nombre}"
								filterMatchMode="contains">
								<h:outputText value="#{personaBean.nombre}" />
							</p:column>

							<p:column headerText="Apellido"
								filterBy="#{personaBean.apellido}" filterMatchMode="contains">
								<h:outputText value="#{personaBean.apellido}" />
							</p:column>

							<p:column headerText="CI/Pasaporte-País" filterBy="#{personaBean.cedula}"
								filterMatchMode="contains">
								<h:outputText value="#{personaBean.cedula}" />
							</p:column>

							<p:column headerText="Contacto"
								filterBy="#{personaBean.numeroContacto}"
								filterMatchMode="contains">
								<h:outputText value="#{personaBean.numeroContacto}" />
							</p:column>


							<p:column headerText="Descripcion" filterMatchMode="contains">
								<h:outputText value="#{personaBean.descripcion}" />
							</p:column>

							<p:column headerText="Imagen" filterMatchMode="contains">
								
								
								<p:commandButton type="button" value="Ver Imagenes" onclick="PF('dlg').show()" />
 
								<p:dialog header="Imagenes" widgetVar="dlg" modal="true"
								    draggable="false" resizable="false">
								 
								    <p:imageSwitch effect="fade">
								        <ui:repeat value="#{imagesView.imagesMostrar}" var="image">
								            <p:graphicImage value="imagen/#{image}" styleClass="content" />>
								        </ui:repeat>
								    </p:imageSwitch>
								</p:dialog>
							</p:column>

							
							<hr></hr>
						</p:dataTable>
						<hr></hr>
					</h:form>
				</div>
				<div class="ui-grid-col-1"></div>
			</div>
		</div>
	</div>

	

	<!-- Este script es para el mapa -->


	<script>
    var map = null;
    var infoWindow = null;
     
    function openInfoWindow(marker) {
        var markerLatLng = marker.getPosition();
        document.getElementById('pedidoAyudaBean:coordenadasX').value = markerLatLng.lat();
        document.getElementById('pedidoAyudaBean:coordenadasY').value = markerLatLng.lng();
        infoWindow.setContent([
            '&lt;b&gt;La ubicacion es:&lt;/b&gt;&lt;br/&gt;',
             markerLatLng.lat(),
            ', ',
            markerLatLng.lng(),
           
        ].join(''));
        infoWindow.open(map, marker);
    }
     
    function initialize() {
    	var myLatlng = new google.maps.LatLng(-34.91197608949991,-56.15386951171877);
    		  var mapOptions = {
    		    zoom: 8,
    		    center: myLatlng,
    		  };
     
        map = new google.maps.Map(document.getElementById('map-canvas'),
        	      mapOptions);
     
        infoWindow = new google.maps.InfoWindow();
     
        var marker = new google.maps.Marker({
            position: myLatlng,
            draggable: true,
            map: map,
         
        });
     
        google.maps.event.addListener(marker, 'click', function(){
            openInfoWindow(marker);
        });
    }
     
    $(document).ready(function() {
        initialize();
    });
    </script>


	<!-- Este script es para el login -->

	<script>
  
		  function statusChangeCallback(response) {
		    console.log('statusChangeCallback');
		    console.log(response);
		   
		    if (response.status === 'connected') {
		      
		      testAPI();
		    } else if (response.status === 'not_authorized') {
		      
		      document.getElementById('status').innerHTML = 'Please log ' +
		        'into this app.';
		    } else {
		      
		      document.getElementById('status').innerHTML = 'Please log ' +
		        'into Facebook.';
		    }
		  }
		
		  function checkLoginState() {
		    FB.getLoginStatus(function(response) {
		      statusChangeCallback(response);
		    });
		  }
		
		  window.fbAsyncInit = function() {
		  FB.init({
		    appId      : '334952920040001',//esta es mi ide stephy
		    cookie     : true,  // enable cookies to allow the server to access 
		                        // the session
		    xfbml      : true,  // parse social plugins on this page
		    version    : 'v2.1' // use version 2.1
		  });
		
		  
		  FB.getLoginStatus(function(response) {
		    statusChangeCallback(response);
		  });
		
		  };
		
		  
		  (function(d, s, id) {
		    var js, fjs = d.getElementsByTagName(s)[0];
		    if (d.getElementById(id)) return;
		    js = d.createElement(s); js.id = id;
		    js.src = "//connect.facebook.net/en_US/sdk.js";
		    fjs.parentNode.insertBefore(js, fjs);
		  }(document, 'script', 'facebook-jssdk'));
		
		  function testAPI() {
		    console.log('Welcome!  Fetching your information.... ');
		    FB.api('/me', function(response) {
		      console.log('Successful login for: ' + response.name);
		      document.getElementById('status').innerHTML =
		        'Thanks for logging in, ' + response.name + '!' ;
		      
		    });
		  }
</script>

	<script type="text/javascript">
  //<![CDATA[
  function manejarLogin(xhr, status, args) {
    if (!args.validationFailed && args.estaLogeado) {
      setTimeout(function() {
        window.location = args.view;
      }, 500);
    }
  }
//]]>
</script>
	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58538699-1', 'auto');
  ga('send', 'pageview');
</script>


	<!--Este script es el que obtiene el id de la catastrofe que se selecciono en la pag anterior y lo guarda en el input-->
	<script>
		  //alert(window.localStorage.getItem("IdCatastrofe"));
		  //var id = window.localStorage.getItem("IdCatastrofe");
		  //alert(window.localStorage.getItem("urlCSS"));
		  //document.getElementById("j_idt5:catastrofeId").value = id;
		</script>


	<script src="js/onload.js"></script>


	<div id="footer">
		
		<ul class="copyright">
			<li>&copy; Untitled. All rights reserved.</li>
			<li>Grupo 4 - Proyecto Tecnologo</li>
		</ul>
	</div>
</body>
<script type="text/javascript">
  <![CDATA[
  function manejarLogin(xhr, status, args) {
    if (!args.validationFailed && args.estaLogeado) {
      setTimeout(function() {
        window.location = args.view;
      }, 500);
    }
  }
]]>
</script>
</html>